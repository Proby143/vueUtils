(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0578927b"],{3070:function(t,e,a){"use strict";a("d76f")},"7db0":function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").find,s=a("44d2"),h=a("ae40"),r="find",o=!0,c=h(r);r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},"8f60":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("section",{staticClass:"header"},[t._v(" "+t._s(t.selectData.year)+"年"+t._s(t.selectData.month)+"月"+t._s(t.selectData.day)+"日 ")]),a("ul",{staticClass:"week-area"},t._l(t.weekArr,(function(e,i){return a("li",{key:i,staticClass:"week-item"},[a("span",{staticClass:"week-font calendar-item"},[t._v(t._s(e))])])})),0),a("section",{ref:"calendar",staticClass:"data-container",style:{height:t.isWeekView?t.itemHeight+t.touchAreaHeight+"px":t.lineNum*t.itemHeight+t.touchAreaHeight+"px",transitionDuration:(t.needHeightAnimation?t.transitionDuration:0)+"s"},on:{touchstart:t.touchStart,touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.touchMove(e)},touchend:t.touchEnd}},[a("section",{staticClass:"month-area",style:{transform:"translateX("+100*-(t.translateIndex+1)+"%)",transitionDuration:(t.needAnimation?t.transitionDuration:0)+"s"}},[a("div",{staticClass:"banner-area",style:{transform:"translateY("+t.offsetY+"px)",transitionDuration:(t.needHeightAnimation?t.transitionDuration:0)+"s"}},t._l(t.allDataArr,(function(e,i){return a("ul",{key:i,staticClass:"data-area",style:{transform:"translateX("+100*(t.translateIndex+t.isTouching?t.touch.x:0)+"%)",transitionDuration:(t.isTouching?0:t.transitionDuration)+"s"}},t._l(e,(function(e,i){return a("li",{key:i,class:["data-item",{selected:e.isSelected},{"other-item":"normal"!==e.type&&!t.isWeekView}],style:"height: "+t.itemHeight+"px",on:{click:function(a){return t.checkoutDate(e)}}},[a("span",{staticClass:"data-font calendar-item"},[t._v(t._s(e.day))])])})),0)})),0)]),a("section",{staticClass:"touch-area",style:"height: "+t.touchAreaHeight+"px; padding-top: "+t.touchAreaPadding+"px;"},[a("div",{staticClass:"touch-container",style:"height: "+(t.touchAreaHeight-t.touchAreaPadding)+"px"},[a("div",{staticClass:"touch-item"})])])])])},n=[],s=(a("99af"),a("7db0"),a("c740"),a("fb6a"),a("a434"),a("2909")),h={name:"calender",data:function(){return{weekArr:["日","一","二","三","四","五","六"],dataArr:[],allDataArr:[],selectData:{},isSelectedCurrentDate:!1,translateIndex:0,transitionDuration:.3,needAnimation:!0,isTouching:!1,touchStartPositionX:null,touchStartPositionY:null,touch:{x:0,y:0},isWeekView:!1,itemHeight:50,needHeightAnimation:!1,offsetY:0,lineNum:0,lastWeek:[],nextWeek:[],isDelay:!0,touchAreaHeight:40,touchAreaPadding:10,isClicked:!1}},created:function(){this.checkoutCurrentDate()},watch:{dataArr:{handler:function(t){this.changeAllData(t)},deep:!0},isWeekView:function(t){t||(this.isSelectedCurrentDate=!1,this.changeAllData(this.dataArr))}},methods:{changeAllData:function(t){var e=this;if(!this.isSelectedCurrentDate||this.isWeekView){var a=this.getPreMonth(),i=this.getMonthData(a,!0),n=this.getNextMonth(),h=this.getMonthData(n,!0);if(this.isWeekView){var r=this.dealWeekViewSliceStart();i.splice.apply(i,[r,7].concat(Object(s["a"])(this.lastWeek))),h.splice.apply(h,[r,7].concat(Object(s["a"])(this.nextWeek)))}var o=function(a){e.allDataArr=[i,t,h],e.needAnimation=!1,e.translateIndex=0,a&&(e.isDelay=!1)};this.isDelay?o(this.isDelay):setTimeout((function(){o()}),this.isClicked&&this.isWeekView?0:1e3*this.transitionDuration)}},getCurrentDate:function(){this.selectData={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()}},getMonthData:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.year,i=t.month,n=t.day,s=[],h=[31,28,31,30,31,30,31,31,30,31,30,31];(a%4===0&&a%100!==0||a%400===0)&&(h[1]=29);for(var r=new Date(a,i-1,1).getDay(),o=new Date(a,i,1).getDay()||7,c=this.getPreMonth(t),l=this.getNextMonth(),d=0;d<r;d++){var u={type:"pre",day:h[c.month-1]-(r-d-1),month:c.month,year:c.year};s.push(u)}for(var f=0;f<h[i-1];f++){var g={type:"normal",day:f+1,month:i,year:a,isSelected:n===f+1&&!e};s.push(g)}for(var y=0;y<7-o;y++){var D={type:"next",day:y+1,month:l.month,year:l.year};s.push(D)}return s},checkoutDate:function(t){if(this.isSelectedCurrentDate=!0,this.isClicked=!0,this.isWeekView&&"normal"!==t.type&&(this.needAnimation=!1,this.needHeightAnimation=!1),"next"===t.type)return this.translateIndex+=1,void this.dealMonthData("NEXT_MONTH",t.day);if("pre"===t.type)return this.translateIndex-=1,void this.dealMonthData("PRE_MONTH",t.day);this.selectData.day=t.day;var e=this.dataArr.findIndex((function(t){return t.isSelected&&"normal"===t.type})),a=this.dataArr.findIndex((function(e){return e.day===t.day&&"normal"===e.type}));this.dataArr[e]&&this.$set(this.dataArr[e],"isSelected",!1),this.dataArr[a]&&this.$set(this.dataArr[a],"isSelected",!0)},getPreMonth:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t||this.selectData,i=a.year,n=a.month;return 1===n?(i-=1,n=12):n-=1,{year:i,month:n,day:e}},getNextMonth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.selectData,a=e.year,i=e.month;return 12===i?(a+=1,i=1):i+=1,{year:a,month:i,day:t}},handlePreMonth:function(){this.dealMonthData("PRE_MONTH")},handleNextMonth:function(){this.dealMonthData("NEXT_MONTH")},dealMonthData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;switch(this.isSelectedCurrentDate=!1,t){case"PRE_MONTH":this.selectData=this.getPreMonth("",e);break;case"NEXT_MONTH":this.selectData=this.getNextMonth(e);break;default:break}this.dataArr=this.getMonthData(this.selectData),this.lineNum=Math.ceil(this.dataArr.length/7)},checkoutCurrentDate:function(){this.isDelay=!0,this.getCurrentDate(),this.dealMonthData()},touchStart:function(t){this.isTouching=!0,this.needAnimation=!0,this.isClicked=!1,this.touchStartPositionX=t.touches[0].clientX,this.touchStartPositionY=t.touches[0].clientY,this.touch={x:0}},touchMove:function(t){var e=t.touches[0].clientX-this.touchStartPositionX,a=t.touches[0].clientY-this.touchStartPositionY;Math.abs(e)>Math.abs(a)?(this.needHeightAnimation=!1,this.touch={x:e/this.$refs.calendar.offsetWidth,y:0}):(this.needHeightAnimation=!0,this.touch={x:0,y:a/this.$refs.calendar.offsetHeight})},touchEnd:function(){this.isTouching=!1;var t=this.touch,e=t.x,a=t.y;Math.abs(e)>Math.abs(a)&&Math.abs(e)>.3&&(e>0?(this.translateIndex-=1,this.isWeekView?this.handlePreWeek():this.handlePreMonth()):e<0&&(this.translateIndex+=1,this.isWeekView?this.handleNextWeek():this.handleNextMonth())),Math.abs(a)>Math.abs(e)&&Math.abs(a*this.$refs.calendar.offsetHeight)>50&&(a>0?(this.isWeekView=!1,this.offsetY=0):a<0&&(this.isWeekView=!0,this.dealWeekViewData())),this.touch={x:0,y:0}},getInfoOfWeekView:function(t,e){var a=Math.ceil((t+1)/7),i=Math.ceil(e/7),n=7*(a-1),s=n+7;return{indexOfLine:a,totalLine:i,sliceStart:n,sliceEnd:s}},dealWeekViewSliceStart:function(){var t=this.dataArr.findIndex((function(t){return t.isSelected})),e=this.getInfoOfWeekView(t,this.dataArr.length),a=e.indexOfLine,i=e.totalLine,n=e.sliceStart,s=e.sliceEnd;if(this.offsetY=-(a-1)*this.itemHeight,1===a){var h=this.getPreMonth(),r=this.getMonthData(h,!0),o=this.dataArr[0].day-1||r[r.length-1].day,c=r.findIndex((function(t){return t.day===o&&"normal"===t.type})),l=this.getInfoOfWeekView(c,r.length),d=l.sliceStart,u=l.sliceEnd;this.lastWeek=r.slice(d,u)}else this.lastWeek=this.dataArr.slice(n-7,s-7);if(a>=i){var f=this.getNextMonth(),g=this.getMonthData(f,!0),y="normal"===this.dataArr[this.dataArr.length-1].type?1:this.dataArr[this.dataArr.length-1].day+1,D=g.findIndex((function(t){return t.day===y})),k=this.getInfoOfWeekView(D,g.length),m=k.sliceStart,p=k.sliceEnd;this.nextWeek=g.slice(m,p)}else this.nextWeek=this.dataArr.slice(n+7,s+7);return n},handlePreWeek:function(){this.dealWeekData("PRE_WEEK")},handleNextWeek:function(){this.dealWeekData("NEXT_WEEK")},dealWeekData:function(t){var e="PRE_WEEK"===t?this.lastWeek.find((function(t){return"normal"===t.type})):this.nextWeek[0],a=e.year,i=e.month,n=e.day;this.selectData={year:a,month:i,day:n},this.dataArr=this.getMonthData(this.selectData),this.lineNum=Math.ceil(this.dataArr.length/7),this.offsetY-=this.itemHeight,this.dealWeekViewData()},dealWeekViewData:function(){var t,e,a=this.dealWeekViewSliceStart();(t=this.allDataArr[0]).splice.apply(t,[a,7].concat(Object(s["a"])(this.lastWeek))),(e=this.allDataArr[2]).splice.apply(e,[a,7].concat(Object(s["a"])(this.nextWeek)))}}},r=h,o=(a("3070"),a("2877")),c=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=c.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),s=a("a691"),h=a("50c4"),r=a("7b0b"),o=a("65f0"),c=a("8418"),l=a("1dde"),d=a("ae40"),u=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,y=Math.min,D=9007199254740991,k="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!f},{splice:function(t,e){var a,i,l,d,u,f,m=r(this),p=h(m.length),A=n(t,p),M=arguments.length;if(0===M?a=i=0:1===M?(a=0,i=p-A):(a=M-2,i=y(g(s(e),0),p-A)),p+a-i>D)throw TypeError(k);for(l=o(m,i),d=0;d<i;d++)u=A+d,u in m&&c(l,d,m[u]);if(l.length=i,a<i){for(d=A;d<p-i;d++)u=d+i,f=d+a,u in m?m[f]=m[u]:delete m[f];for(d=p;d>p-i+a;d--)delete m[d-1]}else if(a>i)for(d=p-i;d>A;d--)u=d+i-1,f=d+a-1,u in m?m[f]=m[u]:delete m[f];for(d=0;d<a;d++)m[d+A]=arguments[d+2];return m.length=p-i+a,l}})},d76f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0578927b.7c61196f.js.map